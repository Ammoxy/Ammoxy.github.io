(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f82fe236"],{"1b61":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB00lEQVRYR+2W4U0CQRCF31QgVOBZgViBTgViBdqBdCBWIB0oFYgN3FACVuCVgBWseWSXbE7Y3ZOQiwn7CwK3882bmTcn6PlIz/FxAvi/CpjZDYBGVZtD+qhYATMbAHgCMAZQtYIuACxUdd4VpgjAzB4AvAAgBJxznwDWPthIRM785xWAuy6qZAHMbAbg0QdghtN2ADMbO+emInLpwVRVCZM9SQCf+atz7ltExqq6TN1oZm8A7gEwOCGCSnsf2wvga/7lZaesrHP21HW9FJFrAM+qOs09kAKY+LrPVZU9gKgce4HMjA1K8LWqDv8MEGVCKTfS13XdiMh5Ljszo1q3viGTyqUUcAyqqtv/mNnIj+EsVV8zo/Qc2WwZOgHk5Ay/h+btE+BwBaIeuCqd6UiBMI7Z6UmVIGSxnYKSErTGd5jzghRA5ZxbeZstViEyoyLwnBMGFbjxOI7JzUdLBvDunbPKZU9FS3ZBqCdtdZLaeNH48b9F+yAL0HJAfuXl9HqaE7cjveFDVbm06JYxcBaiCMBfzBcQWjKXTfsQgPJvTheIYoDo8pA1PZ89Qc//tXpLIToDlIziDiX46nax69mjAkT9MwgbtQ1xdICcYieAkwK9K/ADpE7mIR0CbdsAAAAASUVORK5CYII="},"2d3b":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("HomeNav"),i("div",{staticClass:"search-box"},[i("div",{staticClass:"input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:t.keyword},on:{input:[function(e){e.target.composing||(t.keyword=e.target.value)},function(e){return t.onInput(t.keyword)}]}}),i("img",{staticClass:"search-delete",attrs:{src:s("ea2f"),alt:""},on:{click:t.searchDel}}),i("div",{staticClass:"search-btn",on:{click:t.search}},[i("img",{attrs:{src:s("1b61"),alt:""}})])])]),i("div",{staticClass:"content-box"},[i("div",{staticClass:"text"},[t._v("热门搜索")]),""===t.keyword?i("div",{staticClass:"item-box"},t._l(t.hotItem,(function(e,s){return i("span",{key:s,on:{click:function(e){return t.hotWord(s)}}},[t._v(t._s(e.first))])})),0):i("div",{staticClass:"item-info-box"},t._l(t.keywordData,(function(e,o){return i("div",{key:o,staticClass:"info-box",attrs:{currentSong:t.currentSong},on:{click:function(s){return t.$emit("translate-song",e)}}},[i("div",{staticClass:"item-info"},[i("div",{staticClass:"item-name"},[t._v(t._s(e.name))]),i("div",{staticClass:"singer"},[i("i",{staticClass:"sq"}),i("span",[t._v(t._s(e.artists[0].name))]),i("span",[t._v("-"+t._s(e.album.name))])])]),t.currentSong&&e.id===t.currentSong.id?i("span",{staticClass:"play"},[i("img",{attrs:{src:s("566c"),alt:""}})]):i("span",{staticClass:"play"},[i("img",{attrs:{src:s("c4bf"),alt:""}})])])})),0),i("div",{staticClass:"history"},t._l(t.historyNane,(function(e,o){return i("div",{key:o,staticClass:"history-box",on:{click:function(s){return s.stopPropagation(),t.getHisName(e)}}},[i("img",{attrs:{src:s("fc94"),alt:""}}),i("div",{staticClass:"history-name"},[t._v(t._s(e))]),i("img",{attrs:{src:s("6515"),alt:""},on:{click:function(e){return e.stopPropagation(),t.historyListDel(o)}}})])})),0)])],1)},o=[],n=(s("45fc"),s("a434"),s("ac1f"),s("841c"),s("87c4")),a={name:"Search",components:{HomeNav:n["a"]},props:{currentSong:Object},data:function(){return{hotItem:[],keyword:"",isSearch:!0,keywordData:[],historyList:[this.keyword],historyNane:[]}},methods:{getHotItem:function(){var t=this;this.axios({method:"GET",url:"http://music.kele8.cn/search/hot"}).then((function(e){t.hotItem=e.data.result.hots,window.localStorage.setItem("hotItem",JSON.stringify({expire:Date.now()+36e5,result:e.data.result.hots}))})).catch((function(t){console.log("err ==>",t)}))},search:function(){var t=this;this.axios.get("https://music.kele8.cn/search?keywords=%20".concat(this.keyword),{params:{keyword:this.keyword}}).then((function(e){var s=t.historyNane.some((function(e){return e==t.keyword}));s||t.historyNane.push(t.keyword),t.keywordData=e.data.result.songs,window.localStorage.setItem("key"+t.keyword,JSON.stringify({expire:Date.now()+108e5,result:e.data.result.songs})),window.localStorage.setItem("his"+t.keyword,JSON.stringify(t.historyNane))})).catch((function(t){console.log("err ==>",t)}))},hotWord:function(t){this.index=t,this.keyword=this.hotItem[t].first},onInput:function(t){var e=this;""!==t&&(this.keyword=t,this.axios.get("https://music.kele8.cn/search?keywords=%20".concat(this.keyword),{params:{keyword:this.keyword}}).then((function(t){console.log(t),e.keywordData=t.data.result.songs,window.localStorage.setItem("key"+e.keyword,JSON.stringify({expire:Date.now()+108e5,result:t.data.result.songs}))})).catch((function(t){console.log("err ==>",t)})))},searchDel:function(){this.keyword=""},historyListDel:function(t,e){this.index=t,this.historyNane.splice(t,1)},getHisName:function(t){this.item=t,this.keyword=this.item}},created:function(){var t=this.keyword;if(""!==t){this.onInput();var e=JSON.parse(window.localStorage.getItem("key"+this.keyword));e&&e.expire>Date.now()?this.keyword=e.result:this.search()}var s=JSON.parse(window.localStorage.getItem("sl"+this.songListId));s&&s.expire>Date.now()?this.hotItem=s.result:this.getHotItem()},watch:{his:function(t){this.historyList.push(t),console.log(this.historyList.push(t))}}},r=a,c=(s("66bc"),s("2877")),A=Object(c["a"])(r,i,o,!1,null,"70413870",null);e["default"]=A.exports},6515:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAfElEQVQ4T7VTQQ6AMAjrXqb9iXuZ/gSfZkimsgg7jMhlh7UNlFKQrJLk4xEQkQPASVLfsERkA7CQrAqyAvqxA6iRSCN3mG4ED3C3Ev19PPCAI2HXREtoHYSjhVswIqoR+vKPQGqElImpNY7IoyzMRnklqcl9ozx7VOlrvAA/KWQR0kdZOQAAAABJRU5ErkJggg=="},"66bc":function(t,e,s){"use strict";var i=s("7428"),o=s.n(i);o.a},7428:function(t,e,s){},8418:function(t,e,s){"use strict";var i=s("c04e"),o=s("9bf2"),n=s("5c6c");t.exports=function(t,e,s){var a=i(e);a in t?o.f(t,a,n(0,s)):t[a]=s}},"87c4":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{attrs:{id:"nav"}},[s("li",[s("router-link",{attrs:{to:"/"}},[t._v("推荐音乐")])],1),s("li",[s("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),s("li",[s("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)])},o=[],n={},a=n,r=(s("ae31"),s("2877")),c=Object(r["a"])(a,i,o,!1,null,"166ff3d6",null);e["a"]=c.exports},a434:function(t,e,s){"use strict";var i=s("23e7"),o=s("23cb"),n=s("a691"),a=s("50c4"),r=s("7b0b"),c=s("65f0"),A=s("8418"),l=s("1dde"),u=s("ae40"),h=l("splice"),d=u("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,f=Math.min,m=9007199254740991,w="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!h||!d},{splice:function(t,e){var s,i,l,u,h,d,y=r(this),k=a(y.length),v=o(t,k),p=arguments.length;if(0===p?s=i=0:1===p?(s=0,i=k-v):(s=p-2,i=f(g(n(e),0),k-v)),k+s-i>m)throw TypeError(w);for(l=c(y,i),u=0;u<i;u++)h=v+u,h in y&&A(l,u,y[h]);if(l.length=i,s<i){for(u=v;u<k-i;u++)h=u+i,d=u+s,h in y?y[d]=y[h]:delete y[d];for(u=k;u>k-i+s;u--)delete y[u-1]}else if(s>i)for(u=k-i;u>v;u--)h=u+i-1,d=u+s-1,h in y?y[d]=y[h]:delete y[d];for(u=0;u<s;u++)y[u+v]=arguments[u+2];return y.length=k-i+s,l}})},ae31:function(t,e,s){"use strict";var i=s("b26e"),o=s.n(i);o.a},b26e:function(t,e,s){},ea2f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDUlEQVQ4T6VT0VXDQAyTJoAR2gkoG8SZBCYgbJJOAJPEjBAmgBFgAvN8z9fnXo8+WvIV25FiyTbRPKq6AfAEYACwi/IK4A3AXkQ+M4Q5UNU5wC1vjmcRea6JA8GyLCvJu3PIVFtF5N7jQvDHP7fcLmdiaP6oVTP7JjmZ2UzyxvO9XHy/dYJW96OIvKrqzszcOJAcRGRV1QcAL6mVPTvavwBIAMoU0rsCuM1eeAfWMe5AEh45UQsusC5BaC5tVwKXUz052oNWQga7D1lCS2Jm72dNjLaD4xcT2zECcP0TAJ9ONayXc+Lt/xepGnLJKrv2cRyLP9ccU1nhk2OqifDEV3mox1XcJn0r/RKPzvkHK2Kr880cw7EAAAAASUVORK5CYII="},fc94:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABMklEQVQ4T6WT0XHCMBBE9zqgBDoIJbBqILiCkA5IB5TgDuJ04DSgpQRKoARSwTHHSI4xTsJM9OMZS/dub7Uy/HPZXL2kDYBnAMuyfwbQk/yYnr8BSFoBeHf3LzPrAJxKQYAC+gSgIXmsoAFQigXgjWQU361Q5u6tmW0qZADknI9m1o6LJTnJqcq1u3dmtiJ5vm4W8i6ltB63nQOU86HwSLKtgPhxmEr/BRCjXBteATnng5ntSR4eUVBqzimlxZ+AqZPVk5zzN0BSX+551v0pRFIYuR9GkLSN4JBsHgmmpFsTy0wnM9uRDDU/rsiLu4dny+Eay9XERm9m26mZlTYK22ttdBflAlF8U0qfBR75eHH3pjQYVN49JkkLAFt3j+zH24gVKY2iLmSP55t9jY8YWc9cAHHRthHnsONWAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=chunk-f82fe236.e5ae3cfa.js.map