(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-157a8f10"],{"0d5f":function(t,i,c){"use strict";c.r(i);var n=function(){var t=this,i=t.$createElement,c=t._self._c||i;return c("div",{staticClass:"city"},[c("div",{staticClass:"search_wrap"},[c("div",{staticClass:"search"},[c("i",{staticClass:"fa fa-search"}),c("input",{directives:[{name:"model",rawName:"v-model",value:t.city_val,expression:"city_val"}],attrs:{type:"text",placeholder:"输入城市名"},domProps:{value:t.city_val},on:{input:function(i){i.target.composing||(t.city_val=i.target.value)}}})]),c("button",{on:{click:function(i){return t.$router.push({name:"address",params:{city:t.city}})}}},[t._v("取消")])]),0==t.searchList.length?c("div",{staticStyle:{height:"100%"}},[c("div",{staticClass:"location"},[c("Location",{attrs:{address:t.city},on:{click:function(i){return t.selectCity({name:t.city})}}})],1),c("Alphabet",{ref:"allcity",attrs:{cityInfo:t.cityInfo,keys:t.keys},on:{selectCity:t.selectCity}})],1):c("div",{staticClass:"search_list"},[c("ul",t._l(t.searchList,(function(i,n){return c("li",{key:n,on:{click:function(c){return t.selectCity(i)}}},[t._v(t._s(i.name))])})),0)])])},e=[],s=(c("cc57"),c("c904"),c("6d57"),c("e10e"),c("172d")),a=function(){var t=this,i=t.$createElement,c=t._self._c||i;return t.cityInfo?c("div",{ref:"area_scroll",staticClass:"area"},[c("div",{staticClass:"scroll_wrap"},[c("div",{staticClass:"hot_wrap citylist"},[c("div",{staticClass:"title"},[t._v("热门城市")]),c("ul",{staticClass:"hot_city"},t._l(t.cityInfo.hotCities,(function(i,n){return c("li",{key:n,on:{click:function(c){return t.$emit("selectCity",i)}}},[t._v(t._s(i.name))])})),0)]),c("div",{staticClass:"city_wrap"},t._l(t.keys,(function(i,n){return c("div",{key:n,staticClass:"city_content citylist"},[c("div",{staticClass:"title"},[t._v(t._s(i))]),c("ul",t._l(t.cityInfo[i],(function(i,n){return c("li",{key:n,on:{click:function(c){return t.$emit("selectCity",i)}}},[t._v(t._s(i.name))])})),0)])})),0)]),c("div",{staticClass:"area_keys"},[c("ul",[c("li",{on:{click:function(i){return t.selectKey(0)}}},[t._v("#")]),t._l(t.keys,(function(i,n){return c("li",{key:n,on:{click:function(i){return t.selectKey(n+1)}}},[t._v(t._s(i))])}))],2)])]):t._e()},r=[],o=c("ecd2"),l={name:"Alphabet",data:function(){return{scroll:null}},props:{cityInfo:Object,keys:Array},methods:{initScroll:function(){this.scroll=new o["a"](this.$refs.area_scroll,{click:!0})},selectKey:function(t){var i=this.$refs.area_scroll.getElementsByClassName("citylist"),c=i[t];this.scroll.scrollToElement(c,250)}}},u=l,f=(c("39af"),c("e90a")),y=Object(f["a"])(u,a,r,!1,null,"62b1e2c7",null),d=y.exports,v={name:"City",data:function(){return{city_val:"",cityInfo:null,keys:[],allCities:[],searchList:[]}},computed:{city:function(){return this.$store.getters.location.addressComponent.city||this.$store.getters.location.addressComponent.province}},components:{Location:s["a"],Alphabet:d},created:function(){this.getCityInfo()},watch:{city_val:function(){this.searchCity()}},methods:{getCityInfo:function(){var t=this;this.$axios("/api/posts/cities").then((function(i){t.cityInfo=i.data,t.keys=Object.keys(i.data),t.keys.pop(),t.keys.sort(),t.$nextTick((function(){t.$refs.allcity.initScroll()})),t.keys.forEach((function(i){t.cityInfo[i].forEach((function(i){t.allCities.push(i)}))}))})).catch((function(t){console.log(t)}))},selectCity:function(t){this.$router.push({name:"address",params:{city:t.name}})},searchCity:function(){var t=this;this.city_val?this.searchList=this.allCities.filter((function(i){return-1!=i.name.indexOf(t.city_val)})):this.searchList=[]}}},h=v,_=(c("9236"),Object(f["a"])(h,n,e,!1,null,"7f1da777",null));i["default"]=_.exports},"0f7d":function(t,i,c){},"172d":function(t,i,c){"use strict";var n=function(){var t=this,i=t.$createElement,c=t._self._c||i;return c("div",[c("div",{staticClass:"title"},[t._v("当前定位")]),c("div",{staticClass:"des",on:{click:function(i){return t.$emit("click")}}},[c("i",{staticClass:"fa fa-location-arrow"}),c("span",[t._v(t._s(t.address))])])])},e=[],s={name:"me",props:{address:String}},a=s,r=(c("ba32"),c("e90a")),o=Object(r["a"])(a,n,e,!1,null,"0323a3c4",null);i["a"]=o.exports},"39af":function(t,i,c){"use strict";var n=c("c7bc"),e=c.n(n);e.a},"4fd4":function(t,i,c){},9236:function(t,i,c){"use strict";var n=c("0f7d"),e=c.n(n);e.a},a2cd:function(t,i,c){"use strict";var n=c("238a");t.exports=function(t,i){return!!t&&n((function(){i?t.call(null,(function(){}),1):t.call(null)}))}},ba32:function(t,i,c){"use strict";var n=c("4fd4"),e=c.n(n);e.a},c7bc:function(t,i,c){},c904:function(t,i,c){"use strict";var n=c("e46b"),e=c("5daa"),s=c("008a"),a=c("238a"),r=[].sort,o=[1,2,3];n(n.P+n.F*(a((function(){o.sort(void 0)}))||!a((function(){o.sort(null)}))||!c("a2cd")(r)),"Array",{sort:function(t){return void 0===t?r.call(s(this)):r.call(s(this),e(t))}})},cc57:function(t,i,c){var n=c("064e").f,e=Function.prototype,s=/^\s*function ([^ (]*)/,a="name";a in e||c("149f")&&n(e,a,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},e10e:function(t,i,c){var n=c("008a"),e=c("80a9");c("f0cc")("keys",(function(){return function(t){return e(n(t))}}))},f0cc:function(t,i,c){var n=c("e46b"),e=c("7ddc"),s=c("238a");t.exports=function(t,i){var c=(e.Object||{})[t]||Object[t],a={};a[t]=i(c),n(n.S+n.F*s((function(){c(1)})),"Object",a)}}}]);
//# sourceMappingURL=chunk-157a8f10.d7d29c99.js.map